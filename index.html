<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Boeing 757-200 Viewer</title>
    <style>
        body { margin: 0; display: flex; }
        #listado { width: 300px; background: #f4f4f4; padding: 10px; overflow-y: auto; }
        #viewer { flex: 1; height: 100vh; }
        li { cursor: pointer; margin-bottom: 5px; }
        li:hover { background: #ddd; }
    </style>
</head>
<body>
    <div id="listado">
        <h3>Componentes</h3>
        <ul id="componentList">
            <li data-part="PART-001" data-serial="SN-001" data-exp="2025-12-01">Parte 001 - SN001</li>
            <li data-part="PART-002" data-serial="SN-002" data-exp="2026-05-14">Parte 002 - SN002</li>
            <li data-part="PART-001" data-serial="SN-003" data-exp="2025-07-20">Parte 001 - SN003</li>
        </ul>
    </div>
    <div id="viewer"></div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/examples/js/controls/OrbitControls.js"></script>

    <script>
        let scene = new THREE.Scene();
        let camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        let renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth - 300, window.innerHeight);
        document.getElementById("viewer").appendChild(renderer.domElement);

        let controls = new THREE.OrbitControls(camera, renderer.domElement);
        camera.position.set(0, 5, 20);

        let light = new THREE.HemisphereLight(0xffffff, 0x444444, 1);
        scene.add(light);

        let loader = new THREE.GLTFLoader();
        loader.load(
            "https://drive.google.com/uc?export=download&id=1KSjAQfMgOUc3GDdl-w5IIQxGuIK_tmYk",
            function (gltf) {
                const model = gltf.scene;
                model.scale.set(5, 5, 5);
                scene.add(model);
                animate();
            },
            undefined,
            function (error) {
                console.error("Error cargando el modelo:", error);
            }
        );

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }

        document.querySelectorAll("#componentList li").forEach(item => {
            item.addEventListener("click", () => {
                alert(
                    `Número de parte: ${item.dataset.part}\nNúmero de serie: ${item.dataset.serial}\nVence: ${item.dataset.exp}`
                );
                // Aquí podrías agregar código para resaltar en el modelo
            });
        });
    </script>
</body>
</html>
